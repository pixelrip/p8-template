pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
a={b={},c={}}
a.c["config/constants"]=function()
d=false
e=30
return true
end
a.c["utils/log"]=function()
function f(g)
printh(tostr(g),"log",false)
end
end
a.c["core/game-state"]=function()
h={}
h.__index=h
function h:i()
local j=setmetatable({},self)
return j
end
function h:k() end
function h:l() end
function h:m() end
function h:n() end
o={
p=nil,
q={}
}
function o:add(r,s)
self.q[r]=s
end
function o:u(r,...)
if self.p then
self.p:n()
end
self.p=self.q[r]
if self.p then
self.p:k(...)
end
end
function o:l()
if self.p then
self.p:l()
end
end
function o:m()
if self.p then
self.p:m()
end
end
end
a.c["core/input-manager"]=function()
v={
p={false,false,false,false,false,false},
w={false,false,false,false,false,false},
x={0,0,0,0,0,0},
y=10
}
function v:k()
for z=1,6 do
self.p[z]=false
self.w[z]=false
self.x[z]=0
end
end
function v:l()
for z=0,5 do
self.w[z+1]=self.p[z+1]
self.p[z+1]=btn(z)
if self.x[z+1]>0 then
self.x[z+1]-=1
end
end
end
function v:ba(bb)
local bc=bb+1
return self.p[bc] and
not self.w[bc] and
self.x[bc]==0
end
function v:bd(bb)
local bc=bb+1
return not self.p[bc] and self.w[bc]
end
function v:be(bb)
local bc=bb+1
return self.p[bc]
end
function v:bf(bb,bg)
local bc=bb+1
self.x[bc]=bg or self.y
end
end
a.c["systems/collision"]=function()
bh={}
function bh.bi(bj,bk,bl,bm,bn,bo)
return bj>=bl and bj<bl+bn and
bk>=bm and bk<bm+bo
end
function bh.bp(bq,br,bs,bt,bu,bv,bw,bx)
return bq<bu+bw and bu<bq+bs and
br<bv+bx and bv<br+bt
end
function bh.by(bq,br,bz,bu,bv,ca)
local cb,cc=bu-bq,bv-br
local cd=cb*cb+cc*cc
local ce=(bz+ca)*(bz+ca)
return cd<=ce
end
function bh.cf(cg,ch)
return bh.bp(cg.ci,cg.cj,cg.ck,cg.cl,
ch.ci,ch.cj,ch.ck,ch.cl)
end
end
a.c["states/title"]=function()
cm=h:i()
function cm:k()
f("Entering Title State")
music(0)
end
function cm:l()
end
function cm:m()
cls()
print("boilerplate",42,60,7)
sspr(8,0,15,11,57,80)
end
function cm:n()
f("Exiting Title State")
end
end
function cn(co)
local cp=a.b
if(cp[co]==nil) cp[co]=a.c[co]()
if(cp[co]==nil) cp[co]=true
return cp[co]
end
cn("config/constants")
cn("utils/log")
cn("core/game-state")
cn("core/input-manager")
cn("systems/collision")
cn("states/title")
function _init()
f("=== Game Started ===")
v:k()
o:add("title",cm)
o:u("title")
end
function _update()
v:l()
o:l()
end
function _draw()
o:m()
end
__gfx__
000000000000ee000ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000ee00e0e00ee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000000eeeee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000eeeeeeeee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000ee0ee0eee0ee0ee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000e0eeeeeeeee0e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000eeeeeeee0eeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000eee00ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000eeeeeeeee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000e0000000e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000eee0eee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

__gff__
__map__
__sfx__
010a00000c0730000310073000030c073000031807300003000030000300003000030000300003000030000300003000030000300003000030000300003000030000300003000030000300003000030000300003
010a00000c4400040010440004000c440004001844000400004000040000400004000040000400004000040000400004000040000400004000040000400004000040000400004000040000400004000040000400
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__music__
00 00014344

